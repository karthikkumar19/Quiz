(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{16:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));var r=n(41),a=function(t,e){return Object(r.a)({},t,{},e)},o=function(t,e){var n=!0;if(!e)return!0;if(e.required&&(n=""!==t.trim()&&n),e.minLength&&(n=t.length>=e.minLength&&n),e.maxLength&&(n=t.length<=e.maxLength&&n),e.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(t)&&n}if(e.isNumeric){n=/^\d+$/.test(t)&&n}return n}},19:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return p}));var r=n(5),a=n(39),o=n.n(a),u=function(t,e){return{type:r.d,idToken:t,userId:e}},c=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:r.b}},i=function(t){return function(e){setTimeout((function(){e(c())}),1e3*t)}},l=function(t,e,n){return function(a){a({type:r.c});var c={email:t,password:e,returnSecureToken:!0},l="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=  AIzaSyCXz6aRRnjsWvWtlF6mgWbubu9ag4gF55c";n||(l="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCXz6aRRnjsWvWtlF6mgWbubu9ag4gF55c"),o.a.post(l,c).then((function(t){var e=new Date((new Date).getTime()+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.idToken),localStorage.setItem("expirationDate",e),localStorage.setItem("userId",t.data.localId),a(u(t.data.idToken,t.data.localId)),a(i(t.data.expiresIn))})).catch((function(t){var e;a((e=t.response.data.error,{type:r.a,error:e}))}))}},s=function(t){return{type:r.e,path:t}},p=function(){return function(t){var e=localStorage.getItem("token");if(e){var n=new Date(localStorage.getItem("expirationDate"));if(n<=new Date)t(c());else{var r=localStorage.getItem("userId");t(u(e,r)),t(i((n.getTime()-(new Date).getTime())/1e3))}}else t(c())}}},42:function(t,e,n){t.exports=n(72)},5:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return c}));var r="AUTH_START",a="AUTH_SUCCESS",o="AUTH_FAIL",u="AUTH_LOGOUT",c="SET_AUTH_REDIRECT_PATH"},52:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(20),u=n.n(o),c=n(12),i=n(9),l=n(18),s=(n(51),n(52),n(38)),p=n(10),d=n(11),m=n(14),f=n(13),h=n(8),b=n(19),g=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){console.log("logout"),this.props.onLogout()}},{key:"render",value:function(){return a.a.createElement(h.a,{to:"/"})}}]),n}(r.Component),v=Object(c.b)(null,(function(t){return{onLogout:function(){return t(b.c())}}}))(g),y=function(t){return function(e){Object(m.a)(r,e);var n=Object(f.a)(r);function r(){var t;Object(p.a)(this,r);for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(t=n.call.apply(n,[this].concat(a))).state={component:null},t}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var e=this;t().then((function(t){e.setState({component:t.default})}))}},{key:"render",value:function(){var t=this.state.component;return t?a.a.createElement(t,this.props):null}}]),r}(r.Component)},I=(n(71),y((function(){return n.e(6).then(n.bind(null,95))}))),j=y((function(){return n.e(5).then(n.bind(null,93))})),O=y((function(){return n.e(4).then(n.bind(null,96))})),k=y((function(){return n.e(3).then(n.bind(null,94))})),E=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){var t=a.a.createElement(h.d,null,a.a.createElement(h.b,{path:"/",exact:!0,component:j}),a.a.createElement(h.b,{path:"/guest",exact:!0,component:I}),a.a.createElement(h.b,{path:"/smeauth",exact:!0,component:O}),a.a.createElement(h.a,{to:"/"}));return this.props.isAuthenticated&&(console.log(this.props.isAuthenticated),t=a.a.createElement(h.d,null,a.a.createElement(h.b,{path:"/logout",exact:!0,component:v}),a.a.createElement(h.b,{path:"/",exact:!0,component:j}),a.a.createElement(h.b,{path:"/guest",exact:!0,component:I}),a.a.createElement(h.b,{path:"/smeauth",exact:!0,component:O}),a.a.createElement(h.b,{path:"/main",exact:!0,component:k}),a.a.createElement(h.a,{to:"/"}))),a.a.createElement("div",null,t)}}]),n}(a.a.Component),T=Object(h.g)(Object(c.b)((function(t){return{isAuthenticated:null!==t.auth.token}}),(function(t){return{onTryAutoSignup:function(){return t(b.b())}}}))(E)),S=n(5),x=n(16),A={token:null,userId:null,error:null,loading:!1,authRedirectPath:"/main"},z=function(t,e){return Object(x.b)(t,{error:null,loading:!0})},D=function(t,e){return Object(x.b)(t,{token:e.idToken,userId:e.userId,error:null,loading:!1})},w=function(t,e){return Object(x.b)(t,{error:e.error,loading:!1})},R=function(t,e){return Object(x.b)(t,{token:null,userId:null})},_=function(t,e){return Object(x.b)(t,{authRedirectPath:e.path})},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S.c:return z(t);case S.d:return D(t,e);case S.a:return w(t,e);case S.b:return R(t);case S.e:return _(t,e);default:return t}},L=i.d,U=Object(i.c)({auth:C}),W=Object(i.e)(U,L(Object(i.a)(s.a))),H=a.a.createElement(c.a,{store:W},a.a.createElement(l.a,null,a.a.createElement(T,null)));u.a.render(H,document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.52b561a8.chunk.js.map