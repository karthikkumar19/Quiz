(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{1:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return o})),n.d(e,"r",(function(){return c})),n.d(e,"s",(function(){return i})),n.d(e,"q",(function(){return l})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return p})),n.d(e,"u",(function(){return h})),n.d(e,"v",(function(){return m})),n.d(e,"t",(function(){return b})),n.d(e,"k",(function(){return g})),n.d(e,"l",(function(){return v})),n.d(e,"i",(function(){return E})),n.d(e,"j",(function(){return _})),n.d(e,"o",(function(){return O})),n.d(e,"p",(function(){return j})),n.d(e,"m",(function(){return A})),n.d(e,"n",(function(){return I})),n.d(e,"w",(function(){return T}));var r="ADD_DATA_START",a="ADD_DATA_SUCCESS",u="ADD_DATA_FAIL",o="ADD_DATA_INIT",c="FETCH_DATA_START",i="FETCH_DATA_SUCCESS",l="FETCH_DATA_FAIL",s="ADD_PROFILE_START",d="ADD_PROFILE_SUCESS",f="ADD_PROFILE_FAIL",p="ADD_PROFILE_INIT",h="FETCH_PROFILE_START",m="FETCH_PROFILE_SUCESS",b="FETCH_PROFILE_FAIL",g="ADD_SCORE_START",v="ADD_SCORE_SUCESS",E="ADD_SCORE_FAIL",_="ADD_SCORE_INIT",O="AUTH_START",j="AUTH_SUCCESS",A="AUTH_FAIL",I="AUTH_LOGOUT",T="SET_AUTH_REDIRECT_PATH"},16:function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"j",(function(){return c})),n.d(e,"k",(function(){return s})),n.d(e,"e",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"g",(function(){return m})),n.d(e,"c",(function(){return g})),n.d(e,"f",(function(){return b})),n.d(e,"b",(function(){return v})),n.d(e,"h",(function(){return j})),n.d(e,"i",(function(){return A}));var r=n(1),a=n(8),u=n.n(a),o=function(t,e,n){return{type:r.p,idToken:t,userId:e,redirectPath:n}},c=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:r.n}},i=function(t){return function(e){setTimeout((function(){e(c())}),1e3*t)}},l=function(t,e,n){return function(a){a({type:r.o});var c={email:t,password:e,returnSecureToken:!0},l="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=    AIzaSyD0TUQh41eKlkiCm0EtOAnTzeJWUe8iFcQ";n||(l="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key= AIzaSyD0TUQh41eKlkiCm0EtOAnTzeJWUe8iFcQ"),u.a.post(l,c,n).then((function(t){var e=new Date((new Date).getTime()+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.idToken),localStorage.setItem("expirationDate",e),localStorage.setItem("userId",t.data.localId),a(o(t.data.idToken,t.data.localId,n)),a(i(t.data.expiresIn))})).catch((function(t){var e;a((e=t.response.data.error,{type:r.m,error:e}))}))}},s=function(t){return{type:r.w,path:t}},d=function(){return function(t){var e=localStorage.getItem("token");if(e){var n=new Date(localStorage.getItem("expirationDate"));if(n<=new Date)t(c());else{var r=localStorage.getItem("userId");t(o(e,r)),t(i((n.getTime()-(new Date).getTime())/1e3))}}else t(c())}},f=n(17),p=function(t){return function(e){e({type:r.c}),u.a.post("https://quiz-4cf36.firebaseio.com/quiz.json",t).then((function(n){e(function(t,e){return{type:r.d,quizId:t,quizData:e}}(n.data.name,t))})).catch((function(t){e(function(t){return{type:r.a,error:t}}(t))}))}},h=function(t){return{type:r.q,error:t}},m=function(t,e){return function(t){t({type:r.r}),u.a.get("https://quiz-4cf36.firebaseio.com/quiz.json").then((function(e){var n,a=[];for(var u in e.data)a.push(Object(f.a)({},e.data[u],{id:u}));t((n=a,{type:r.s,data:n}))})).catch((function(e){t(h(e))}))}},b=function(t){return function(e){u.a.delete("https://quiz-4cf36.firebaseio.com/quiz/"+t+".json").then((function(){e(m())})).catch((function(t){e(h(t))}))}},g=function(t,e){return function(n){n({type:r.k}),u.a.put("https://quiz-4cf36.firebaseio.com/profile/".concat(t,"/score.json"),e).then((function(t){n(function(t,e){return{type:r.l,scoreId:t,scoreData:e}}(t.data.name,e))})).catch((function(t){n(function(t){return{type:r.i,error:t}}(t))}))}},v=function(t,e){return function(n){n({type:r.g}),u.a.post("https://quiz-4cf36.firebaseio.com/profile.json?auth="+e,t).then((function(e){n(function(t,e){return{type:r.h,profileId:t,profileData:e}}(e.data.name,t))})).catch((function(t){n(function(t){return{type:r.e,error:t}}(t))}))}},E=function(t){return{type:r.v,data:t}},_=function(t){return{type:r.t,error:t}},O=function(){return{type:r.u}},j=function(t,e){return function(n){n(O());var r="?auth="+t+'&orderBy="userId"&equalTo="'+e+'"';u.a.get("https://quiz-4cf36.firebaseio.com/profile.json"+r).then((function(t){var e=[];for(var r in t.data)e.push(Object(f.a)({},t.data[r],{id:r}));n(E(e))})).catch((function(t){n(_(t))}))}},A=function(){return function(t){t(O()),u.a.get("https://quiz-4cf36.firebaseio.com/profile.json").then((function(e){var n=[];for(var r in e.data)n.push(Object(f.a)({},e.data[r],{id:r}));t(E(n))})).catch((function(e){t(_(e))}))}}},2:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n(17),a=function(t,e){return Object(r.a)({},t,{},e)},u=function(t,e){var n=!0;if(!e)return!0;if(e.required&&(n=""!==t.trim()&&n),e.minLength&&(n=t.length>=e.minLength&&n),e.maxLength&&(n=t.length<=e.maxLength&&n),e.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(t)&&n}if(e.isNumeric){n=/^\d+$/.test(t)&&n}return n}},22:function(t,e,n){t.exports={Input:"input_Input__3BPgK",Label:"input_Label__24bIE",InputElement:"input_InputElement__2HI6E",Invalid:"input_Invalid__3QqA4"}},28:function(t,e,n){t.exports={Button:"button_Button__2rvm5",Success:"button_Success__2fkNB",Danger:"button_Danger__3R9zs"}},31:function(t,e,n){"use strict";var r=n(0),a=n.n(r),u=n(47),o=n.n(u);e.a=function(){return a.a.createElement("div",{className:o.a.Loader},"Loading...")}},43:function(t,e,n){"use strict";var r=n(0),a=n.n(r),u=n(22),o=n.n(u);e.a=function(t){var e=null,n=[o.a.InputElement];switch(t.invalid&&t.shouldValidate&&t.touched&&n.push(o.a.Invalid),t.elementType){case"input":e=a.a.createElement("input",Object.assign({className:n.join(" ")},t.elementConfig,{value:t.value,onChange:t.changed}));break;case"textarea":e=a.a.createElement("textarea",Object.assign({className:n.join(" ")},t.elementConfig,{value:t.value,onChange:t.changed}));break;case"select":e=a.a.createElement("select",{className:n.join(" "),value:t.value,onChange:t.changed},t.elementConfig.options.map((function(t){return a.a.createElement("option",{key:t.value,value:t.value},t.displayValue)})));break;default:e=a.a.createElement("input",Object.assign({className:n.join(" ")},t.elementConfig,{value:t.value,onChange:t.changed}))}return a.a.createElement("div",null,a.a.createElement("div",{className:o.a.Input},a.a.createElement("label",{className:o.a.Label},t.label),e))}},46:function(t,e,n){t.exports={Auth:"Auth_Auth__3Qly3"}},47:function(t,e,n){t.exports={Loader:"Spinner_Loader__1twK-",load2:"Spinner_load2__2gkgc"}},50:function(t,e,n){t.exports=n(78)},60:function(t,e,n){},78:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),u=n(23),o=n.n(u),c=n(14),i=n(18),l=n(20),s=(n(59),n(60),n(45)),d=n(10),f=n(11),p=n(13),h=n(12),m=n(15),b=n(16),g=n(24),v=n(43),E=n(28),_=n.n(E),O=function(t){return a.a.createElement("button",{disabled:t.disabled,className:[_.a.Button,_.a[t.btnType]].join(" "),onClick:t.clicked},t.children)},j=n(46),A=n.n(j),I=n(31),T=n(2),S=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return(t=e.call.apply(e,[this].concat(a))).state={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your E-Mail"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Your Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},isSignup:!0},t.inputChangedHandler=function(e,n){var r=Object(T.b)(t.state.controls,Object(g.a)({},n,Object(T.b)(t.state.controls[n],{value:e.target.value,valid:Object(T.a)(e.target.value,t.state.controls[n].validation),touched:!0})));t.setState({controls:r})},t.switchAuthModeHandler=function(){t.setState((function(t){return{isSignup:!t.isSignup}}))},t.submitHandler=function(e){e.preventDefault(),t.props.onAuth(t.state.controls.email.value,t.state.controls.password.value,t.state.isSignup),t.props.onSetAuthRedirectPath()},t}return Object(f.a)(n,[{key:"render",value:function(){var t=this,e=[];for(var n in this.state.controls)e.push({id:n,config:this.state.controls[n]});var r=e.map((function(e){return a.a.createElement(v.a,{key:e.id,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(n){return t.inputChangedHandler(n,e.id)}})}));this.props.loading&&(r=a.a.createElement(I.a,null));var u=null;this.props.error&&(u=a.a.createElement("p",null,this.props.error.message));var o=null;return this.props.isAuthenticated&&(o=a.a.createElement(m.a,{to:this.props.authRedirectPath})),a.a.createElement("div",{className:A.a.Auth},o,u,a.a.createElement("form",{onSubmit:this.submitHandler},r,a.a.createElement(O,{btnType:"Success"},"SUBMIT")),a.a.createElement(O,{clicked:this.switchAuthModeHandler,btnType:"Danger"},"SWITCH TO ",this.state.isSignup?"SIGNIN":"SIGNUP"))}}]),n}(r.Component),y=Object(c.b)((function(t){return{loading:t.auth.loading,error:t.auth.error,isAuthenticated:null!=t.auth.token,authRedirectPath:t.auth.authRedirectPath}}),(function(t){return{onAuth:function(e,n,r){return t(b.d(e,n,r))},onSetAuthRedirectPath:function(){return t(b.k("/user"))}}}))(S),D=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"componentDidMount",value:function(){console.log("logout"),this.props.onLogout()}},{key:"render",value:function(){return a.a.createElement(m.a,{to:"/"})}}]),n}(r.Component),k=Object(c.b)(null,(function(t){return{onLogout:function(){return t(b.j())}}}))(D),C=function(t){return function(e){Object(p.a)(r,e);var n=Object(h.a)(r);function r(){var t;Object(d.a)(this,r);for(var e=arguments.length,a=new Array(e),u=0;u<e;u++)a[u]=arguments[u];return(t=n.call.apply(n,[this].concat(a))).state={component:null},t}return Object(f.a)(r,[{key:"componentDidMount",value:function(){var e=this;t().then((function(t){e.setState({component:t.default})}))}},{key:"render",value:function(){var t=this.state.component;return t?a.a.createElement(t,this.props):null}}]),r}(r.Component)},z=C((function(){return Promise.all([n.e(9),n.e(7)]).then(n.bind(null,144))})),q=C((function(){return n.e(3).then(n.bind(null,150))})),L=C((function(){return Promise.all([n.e(10),n.e(11)]).then(n.bind(null,145))})),R=C((function(){return n.e(4).then(n.bind(null,152))})),w=C((function(){return Promise.all([n.e(5),n.e(8)]).then(n.bind(null,147))})),P=C((function(){return n.e(6).then(n.bind(null,148))})),x=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){var t=a.a.createElement(m.d,null,a.a.createElement(m.b,{path:"/auth",component:y}),a.a.createElement(m.b,{path:"/",exact:!0,component:L}),a.a.createElement(m.b,{path:"/add",exact:!0,component:z}),a.a.createElement(m.a,{to:"/"}));return this.props.isAuthenticated&&(t=a.a.createElement(m.d,null,a.a.createElement(m.b,{path:"/quizes",exact:!0,component:w}),a.a.createElement(m.b,{path:"/quiz",exact:!0,component:R}),a.a.createElement(m.b,{path:"/user",component:q}),a.a.createElement(m.b,{path:"/logout",component:k}),a.a.createElement(m.b,{path:"/auth",component:y}),a.a.createElement(m.b,{path:"/",exact:!0,component:y}),a.a.createElement(m.b,{path:"/scores",exact:!0,component:P}),a.a.createElement(m.b,{path:"/add",exact:!0,component:z}),a.a.createElement(m.a,{to:"/"}))),a.a.createElement("div",null,t)}}]),n}(a.a.Component),F=Object(m.g)(Object(c.b)((function(t){return{isAuthenticated:null!==t.auth.token}}),(function(t){return{onTryAutoSignup:function(){return t(b.e())}}}))(x)),H=n(1),U={quizes:[],profile:[],fetched:!1,token:null,userId:null,form:!1,error:null,loading:!1,authRedirectPath:"/user"},N=function(t,e){return Object(T.b)(t,{error:null,loading:!0})},B=function(t,e){return Object(T.b)(t,{token:e.idToken,userId:e.userId,error:null,loading:!1,form:e.redirectPath})},M=function(t,e){return Object(T.b)(t,{error:e.error,loading:!1})},Q=function(t,e){return Object(T.b)(t,{token:null,userId:null})},J=function(t,e){return Object(T.b)(t,{authRedirectPath:e.path})},K=function(t){return Object(T.b)(t,{fetched:!1})},W=function(t){return Object(T.b)(t,{loading:!0})},G=function(t,e,n){var r=Object(T.b)(e.quizData,{id:e.quizId});return Object(T.b)(t,{loading:!1,fetched:!0,quizes:t.quizes.concat(r)})},V=function(t){return Object(T.b)(t,{loading:!1})},$=function(t){return Object(T.b)(t,{fetched:!1})},Y=function(t){return Object(T.b)(t,{loading:!0})},X=function(t,e,n){var r=Object(T.b)(e.profileData,{id:e.profileId});return Object(T.b)(t,{loading:!1,fetched:!0,form:!1,profile:t.profile.concat(r)})},Z=function(t){return Object(T.b)(t,{loading:!1})},tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case H.o:return N(t);case H.p:return B(t,e);case H.m:return M(t,e);case H.n:return Q(t);case H.w:return J(t,e);case H.b:return K(t);case H.c:return W(t);case H.d:return G(t,e);case H.a:return V(t);case H.f:return $(t);case H.g:return Y(t);case H.h:return X(t,e);case H.e:return Z(t);default:return t}},et={questions:[],loading:!1,fetched:!1},nt=function(t){return Object(T.b)(t,{loading:!0})},rt=function(t,e){return Object(T.b)(t,{questions:e.data,loading:!1,fetched:!0,updated:!1})},at=function(t){return Object(T.b)(t,{loading:!1})},ut=function(t){return Object(T.b)(t,{loading:!0})},ot=function(t,e){return Object(T.b)(t,{score:e.data,loading:!1,fetched:!0,updated:!0})},ct=function(t){return Object(T.b)(t,{loading:!1})},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case H.r:return nt(t);case H.s:return rt(t,e);case H.q:return at(t);case H.k:return ut(t);case H.l:return ot(t,e);case H.i:return ct(t);default:return t}},lt={profile:[],loading:!1,fetched:!1,authRedirectPath:"/user"},st=function(t){return Object(T.b)(t,{loading:!0})},dt=function(t,e){return Object(T.b)(t,{profile:e.data,loading:!1,fetched:!0})},ft=function(t){return Object(T.b)(t,{loading:!1})},pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case H.u:return st(t);case H.v:return dt(t,e);case H.t:return ft(t);default:return t}},ht=i.d,mt=Object(i.c)({auth:tt,quizdata:it,profile:pt}),bt=Object(i.e)(mt,ht(Object(i.a)(s.a))),gt=a.a.createElement(c.a,{store:bt},a.a.createElement(l.a,null,a.a.createElement(F,null)));o.a.render(gt,document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.e8c827fb.chunk.js.map